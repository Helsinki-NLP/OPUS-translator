{% extends "base.html" %}
{% block content %}

<ul id="messages">
</ul>

<div>
  <div style="margin: 20px; float: left">
    <b>My corpora</b>
    <form style="display: inline" action="/create_corpus"><input type="submit" value="+"></form>
    <br>
    <div style="margin: 20px">
      <b id="corpusname">{{ name }}</b>
      <select id="choose-branch" style="margin-left: 20px">
	{% for branch in branches %}
	<option value="{{ branch }}">{{ branch }}</option>
	{% endfor %}
      </select>
      {% if clone %}
      <button id="clonebranch" style="margin-left: 20px">clone</button>
      {% endif %}
      <button id="settings" style="margin-left: 20px">settings</button>
    </div>
  </div>
  <div style="padding: 20px; float: right">Search corpus: <input id="searchcorpus">
    <ul id="searchresult"></ul>
  </div>
</div>

<table class="borders" style="clear: left; margin: auto; width: 90%">
  <colgroup>
    <col id="uploads-column" span="1" style="width: 33.33%">
    <col id="monolingual-column" span="1" style="width: 33.33%">
    <col id="parallel-column" span="1" style="width: 33.33%">
    <col id="file-column" span="1" style="width: 66.66%">
  </colgroup>
  <tr>
    <td id="uploads-header-cell" class="uploads-cell" style="text-align: center; height: 33px;">
      <span style="position: relative; top: 5px">uploads</span>
      <form id="uploadfiles" style="display: inline; float: right; position: relative; right: 10px" action="/upload_file">
	<input type="text" name="corpus" value="{{ name }}" style="display: none">
	<input id="branch" type="text" name="branch" value="{{ branch }}" style="display: none">
	<input type="submit" value="+">
      </form>
    </td>
    <td id="monolingual-header-cell" class="monolingual-cell" style="text-align: center; height: 33px">monolingual</td>
    <td id="parallel-header-cell" class="parallel-cell" style="text-align: center; height: 33px">parallel</td>
    <td id="filedisplay-header-cell" class="filedisplay-cell" style="text-align: center; display: none; height: 33px">

      <button id="editmetadata" edit="false" style="float: left; position: relative; left: 10px">edit metadata</button>
      <span id="filename" style="position: relative; top: 5px; max-width: 228px; word-wrap: break-word; display: inline-block"></span>
      <div style="display: inline; float: right; position: relative; right: 10px">
	<button id="viewfile" showing="metadata">view</button>
	<button id="importfile" style="display: none">import</button>
	<button id="downloadfile" style="display: none">download</button>
	<button id="deletefile" style="color: red">delete</button>
	<button id="filedisplay-close">close</button>
      </div>
    </td>
  </tr>
  <tr>
    <td id="uploads-tree-cell" class="uploads-cell" style="vertical-align: top; height: 500px">
      <ul id="uploads" style="padding-left: 20px; list-style-type: none">
      </ul>
    </td>
    <td id="monolingual-tree-cell" class="monolingual-cell" style="vertical-align: top; height: 500px">
      <ul id="monolingual" style="padding-left: 20px; list-style-type: none">
      </ul>
    </td>
    <td id="parallel-tree-cell" class="parallel-cell" style="vertical-align: top; height: 500px">
      <ul id="parallel" style="padding-left: 20px; list-style-type: none">
      </ul>
    </td>
    <td id="filedisplay-content-cell" class="filedisplay-cell" style="vertical-align: top; display: none; height: 500px">
	<table id="file-metadata" style="padding: 20px"></table>
      <span id="file-content" style="padding-left: 20px; white-space: pre-wrap;"></span>
    </td>
  </tr>
  <tr>
    <td id="uploads-bottom-cell" class="uploads-cell" style="height: 33px"></td>
    <td id="monolingual-bottom-cell" class="monolingual-cell" style="height: 33px"></td>
    <td id="parallel-bottom-cell" class="parallel-cell" style="height: 33px"></td>
    <td id="filedisplay-bottom-cell" class="filedisplay-cell" style="display:none; height: 33px"></td>
  </tr>
</table>

<script src="{{ url_for('static', filename='jquery-3.3.1.min.js') }}"> </script>
<script type="text/javascript" src="{{ url_for('static', filename='opus_interface.js') }}"> </script>
{% endblock %}
