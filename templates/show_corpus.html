{% extends "base.html" %}
{% block content %}

<ul id="messages">
</ul>

<div>
  <div style="margin: 20px; float: left">
    <b>My corpora</b>
    <form style="display: inline" action="/create_corpus"><input type="submit" value="+"></form>
    <br>
    <div style="margin: 20px">
      <b id="corpusname">{{ name }}</b>
      <select id="choose-branch" style="margin-left: 20px">
	{% for branch in branches %}
	<option value="{{ branch }}">{{ branch }}</option>
	{% endfor %}
      </select>
      {% if clone %}
      <button id="clonebranch" style="margin-left: 20px">clone</button>
      {% endif %}
      <button id="settings" style="margin-left: 20px">settings</button>
    </div>
  </div>
  <div style="padding: 20px; float: right">Search corpus: <input id="searchcorpus">
    <ul id="searchresult"></ul>
  </div>
</div>

<table class="borders" style="clear: left; margin: auto; width: 90%; word-break: break-all">
  <colgroup>
    <col id="uploads-column" span="1" style="width: 33.33%">
    <col id="monolingual-column" span="1" style="width: 33.33%">
    <col id="parallel-column" span="1" style="width: 33.33%">
    <col id="file-column" span="1" style="width: 66.66%">
  </colgroup>
  <tr>
    <td id="uploads-header-cell" class="uploads-cell header-cell">
      <span style="position: relative; top: 5px">uploads</span>
      <form id="uploadfiles" action="/upload_file">
	<input type="text" name="corpus" value="{{ name }}" style="display: none">
	<input id="branch" type="text" name="branch" value="{{ branch }}" style="display: none">
	<input type="submit" value="+">
      </form>
    </td>
    <td id="monolingual-header-cell" class="monolingual-cell header-cell">monolingual</td>
    <td id="parallel-header-cell" class="parallel-cell header-cell">parallel</td>
    <td id="filedisplay-header-cell" class="filedisplay-cell header-cell" style="display: none">

      <button id="editmetadata" edit="false">edit metadata</button>
      <span id="filename"></span>
      <div style="display: inline; float: right; position: relative; right: 10px">
	<button id="viewfile" showing="metadata">view</button>
	<button id="editalignment" style="display: none">edit</button>
	<button id="importfile" style="display: none">import</button>
	<button id="downloadfile" style="display: none">download</button>
	<button id="deletefile" style="color: red">delete</button>
	<button id="filedisplay-close">close</button>
      </div>
    </td>
  </tr>
  <tr>
    <td id="uploads-tree-cell" class="uploads-cell content-cell">
      <ul id="uploads" class="tree-list">
      </ul>
    </td>
    <td id="monolingual-tree-cell" class="monolingual-cell content-cell">
      <ul id="monolingual" class="tree-list">
      </ul>
    </td>
    <td id="parallel-tree-cell" class="parallel-cell content-cell">
      <ul id="parallel" class="tree-list">
      </ul>
    </td>
    <td id="filedisplay-content-cell" class="filedisplay-cell content-cell" style="display: none">
	<table id="file-metadata" style="padding: 20px"></table>
	<div style="padding: 20px"><span id="file-content" style="white-space: pre-wrap;"></span></div>
    </td>
  </tr>
  <tr>
    <td id="uploads-bottom-cell" class="uploads-cell bottom-cell"></td>
    <td id="monolingual-bottom-cell" class="monolingual-cell bottom-cell"></td>
    <td id="parallel-bottom-cell" class="parallel-cell bottom-cell"></td>
    <td id="filedisplay-bottom-cell" class="filedisplay-cell bottom-cell" style="display:none"></td>
  </tr>
</table>

<script src="{{ url_for('static', filename='jquery-3.3.1.min.js') }}"> </script>
<script type="text/javascript" src="{{ url_for('static', filename='opus_interface.js') }}"> </script>
{% endblock %}
